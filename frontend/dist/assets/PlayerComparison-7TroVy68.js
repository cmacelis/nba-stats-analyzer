import{g as Pe,d as Le,k as G,e as M,h as v,_ as T,i as H,r as g,l as Be,m as Re,n as ze,j as e,o as Te,p as $e,q as We,t as Ae,c as V,b as q,v as De,B as o,T as i,a as re,w as Q,I as ve,C as Ce,A as W,S as te,x as we,y as _e,P as Ne,z as Ee}from"./index-D9nbruLe.js";import{R as Fe,C as Me,P as ae}from"./PlayerSearch-KNlgQIXq.js";import{T as se,F as ke,I as Se,S as Ie,M as A,P as ne}from"./PlayerAvatar-CFLiqhfc.js";import{u as Ue,C as B}from"./Chip-DrcwLhod.js";import{C as ie,a as oe}from"./dataMappers-1bDpCiFz.js";import{I as le,T as qe,a as Oe}from"./TrendingUp-BNkS_11L.js";import{D as O,u as Ke,T as Ge,a as He,b as Ve,c as Qe,d as U}from"./useNbaData-1LxKfKvx.js";import{S as Xe}from"./ShowChart-FOAxKXUh.js";import{G as z}from"./Grid--H9pU6o7.js";function Ye(r){return Pe("MuiLinearProgress",r)}Le("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Je=["className","color","value","valueBuffer","variant"];let $=r=>r,ce,de,he,xe,pe,ue;const K=4,Ze=G(ce||(ce=$`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),er=G(de||(de=$`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),rr=G(he||(he=$`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),tr=r=>{const{classes:t,variant:a,color:n}=r,x={root:["root",`color${v(n)}`,a],dashed:["dashed",`dashedColor${v(n)}`],bar1:["bar",`barColor${v(n)}`,(a==="indeterminate"||a==="query")&&"bar1Indeterminate",a==="determinate"&&"bar1Determinate",a==="buffer"&&"bar1Buffer"],bar2:["bar",a!=="buffer"&&`barColor${v(n)}`,a==="buffer"&&`color${v(n)}`,(a==="indeterminate"||a==="query")&&"bar2Indeterminate",a==="buffer"&&"bar2Buffer"]};return $e(x,Ye,t)},X=(r,t)=>t==="inherit"?"currentColor":r.vars?r.vars.palette.LinearProgress[`${t}Bg`]:r.palette.mode==="light"?We(r.palette[t].main,.62):Ae(r.palette[t].main,.5),ar=M("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.root,t[`color${v(a.color)}`],t[a.variant]]}})(({ownerState:r,theme:t})=>T({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:X(t,r.color)},r.color==="inherit"&&r.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},r.variant==="buffer"&&{backgroundColor:"transparent"},r.variant==="query"&&{transform:"rotate(180deg)"})),sr=M("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.dashed,t[`dashedColor${v(a.color)}`]]}})(({ownerState:r,theme:t})=>{const a=X(t,r.color);return T({position:"absolute",marginTop:0,height:"100%",width:"100%"},r.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${a} 0%, ${a} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},H(xe||(xe=$`
    animation: ${0} 3s infinite linear;
  `),rr)),nr=M("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.bar,t[`barColor${v(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&t.bar1Indeterminate,a.variant==="determinate"&&t.bar1Determinate,a.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:r,theme:t})=>T({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:r.color==="inherit"?"currentColor":(t.vars||t).palette[r.color].main},r.variant==="determinate"&&{transition:`transform .${K}s linear`},r.variant==="buffer"&&{zIndex:1,transition:`transform .${K}s linear`}),({ownerState:r})=>(r.variant==="indeterminate"||r.variant==="query")&&H(pe||(pe=$`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Ze)),ir=M("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(r,t)=>{const{ownerState:a}=r;return[t.bar,t[`barColor${v(a.color)}`],(a.variant==="indeterminate"||a.variant==="query")&&t.bar2Indeterminate,a.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:r,theme:t})=>T({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},r.variant!=="buffer"&&{backgroundColor:r.color==="inherit"?"currentColor":(t.vars||t).palette[r.color].main},r.color==="inherit"&&{opacity:.3},r.variant==="buffer"&&{backgroundColor:X(t,r.color),transition:`transform .${K}s linear`}),({ownerState:r})=>(r.variant==="indeterminate"||r.variant==="query")&&H(ue||(ue=$`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),er)),or=g.forwardRef(function(t,a){const n=Be({props:t,name:"MuiLinearProgress"}),{className:x,color:c="primary",value:f,valueBuffer:u,variant:m="indeterminate"}=n,S=Re(n,Je),d=T({},n,{color:c,variant:m}),s=tr(d),b=ze(),y={},C={bar1:{},bar2:{}};if((m==="determinate"||m==="buffer")&&f!==void 0){y["aria-valuenow"]=Math.round(f),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let p=f-100;b&&(p=-p),C.bar1.transform=`translateX(${p}%)`}if(m==="buffer"&&u!==void 0){let p=(u||0)-100;b&&(p=-p),C.bar2.transform=`translateX(${p}%)`}return e.jsxs(ar,T({className:Te(s.root,x),ownerState:d,role:"progressbar"},y,{ref:a},S,{children:[m==="buffer"?e.jsx(sr,{className:s.dashed,ownerState:d}):null,e.jsx(nr,{className:s.bar1,ownerState:d,style:C.bar1}),m==="determinate"?null:e.jsx(ir,{className:s.bar2,ownerState:d,style:C.bar2})]}))}),me=V(e.jsx("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome"),lr=V(e.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),fe=V(e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),ge="".replace(/\/$/,""),cr={getReport:async(r,t="points",a=!1)=>{const n=new URLSearchParams({prop:t});return a&&n.set("refresh","true"),(await q.get(`${ge}/api/research/${encodeURIComponent(r)}?${n}`)).data},generateReport:async(r,t="points")=>(await q.post(`${ge}/api/research/generate`,{playerName:r,prop:t})).data};function dr({prediction:r}){return r==="over"?e.jsx(B,{icon:e.jsx(qe,{}),label:"OVER",color:"success",sx:{fontWeight:700,fontSize:"0.85rem",px:.5}}):r==="under"?e.jsx(B,{icon:e.jsx(Oe,{}),label:"UNDER",color:"error",sx:{fontWeight:700,fontSize:"0.85rem",px:.5}}):e.jsx(B,{icon:e.jsx(Fe,{}),label:"NEUTRAL",color:"default",sx:{fontWeight:700,fontSize:"0.85rem",px:.5}})}function hr({confidence:r}){const t=Math.round((r??0)*100)||0,a=t>=60?"success":t>=50?"warning":"error",n=t>=60?"success.main":t>=50?"warning.main":"error.main",x=t>=60?"High":t>=50?"Moderate":"Low";return e.jsxs(o,{children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Confidence"}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(i,{variant:"caption",color:n,fontWeight:700,children:x}),e.jsxs(i,{variant:"body2",fontWeight:800,color:n,children:[t,"%"]})]})]}),e.jsx(or,{variant:"determinate",value:t,color:a,sx:{height:7,borderRadius:4}})]})}function xr({ctx:r,propType:t}){const a=r.recentAvg5-r.propLine,n=Math.round(r.overHitRate*100),x=r.stdDev<3?"Very consistent":r.stdDev<5?"Consistent":r.stdDev<7?"Moderate variance":"High variance",c=r.streak>0?`${r.streak} OVER streak`:r.streak<0?`${Math.abs(r.streak)} UNDER streak`:"No streak",f=t==="points"?"pts":t==="rebounds"?"reb":t==="assists"?"ast":"",u=r.recentGames.slice(0,10).map((m,S)=>{const d=m-r.propLine,s=d>.5,b=d<-.5;return e.jsx(Q,{title:`${m} ${f} (${s?"+":""}${d.toFixed(1)} vs line)`,arrow:!0,children:e.jsx(o,{sx:{width:9,height:9,borderRadius:"50%",cursor:"default",bgcolor:s?"success.main":b?"error.main":"text.disabled",flexShrink:0}})},S)});return e.jsxs(o,{sx:{bgcolor:"action.hover",borderRadius:1,p:1.5},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[e.jsx(Xe,{sx:{fontSize:14,color:"text.secondary"}}),e.jsx(i,{variant:"caption",color:"text.secondary",fontWeight:600,children:"STAT CONTEXT"})]}),e.jsxs(o,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:1,mb:1.5},children:[e.jsxs(o,{children:[e.jsx(i,{variant:"caption",color:"text.secondary",display:"block",children:"Line"}),e.jsx(i,{variant:"body2",fontWeight:700,children:r.propLine})]}),e.jsxs(o,{children:[e.jsx(i,{variant:"caption",color:"text.secondary",display:"block",children:"L5 avg"}),e.jsxs(i,{variant:"body2",fontWeight:700,color:a>1?"success.main":a<-1?"error.main":"text.primary",children:[r.recentAvg5,e.jsxs(i,{component:"span",variant:"caption",color:"inherit",sx:{ml:.3},children:["(",a>=0?"+":"",a.toFixed(1),")"]})]})]}),e.jsxs(o,{children:[e.jsx(i,{variant:"caption",color:"text.secondary",display:"block",children:"Hit rate"}),e.jsxs(i,{variant:"body2",fontWeight:700,color:n>=60?"success.main":n<=40?"error.main":"text.primary",children:[n,"% over"]})]})]}),e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",mb:1.5},children:[e.jsxs(i,{variant:"caption",color:"text.secondary",children:["Variance: ",e.jsxs("strong",{children:[r.stdDev," σ"]})," — ",x]}),e.jsx(i,{variant:"caption",color:"text.secondary",children:c})]}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(i,{variant:"caption",color:"text.secondary",sx:{mr:.5},children:"L10:"}),u,e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5,ml:"auto"},children:[e.jsx(o,{sx:{width:7,height:7,borderRadius:"50%",bgcolor:"success.main"}}),e.jsx(i,{variant:"caption",color:"text.secondary",children:"over"}),e.jsx(o,{sx:{width:7,height:7,borderRadius:"50%",bgcolor:"error.main",ml:.5}}),e.jsx(i,{variant:"caption",color:"text.secondary",children:"under"})]})]})]})}function be({playerName:r}){var D;const t=De(),[a,n]=g.useState("points"),[x,c]=g.useState(0),[f,u]=g.useState(""),[m,S]=g.useState(null),d=r??m,{data:s,isLoading:b,isError:y}=Ue({queryKey:["research",d,a,x],queryFn:()=>cr.getReport(d,a,x>0),enabled:!!d,staleTime:15*60*1e3,retry:1}),C=()=>{c(h=>h+1),t.removeQueries({queryKey:["research",d,a]})},p=()=>{const h=f.trim();h&&(S(h),c(0))},k=h=>{n(h.target.value),c(0)};return d?e.jsx(ie,{variant:"outlined",children:e.jsxs(oe,{children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(me,{fontSize:"small",color:"primary"}),e.jsxs(i,{variant:"subtitle1",fontWeight:700,sx:{flex:1,minWidth:0},children:["Edge Signal —"," ",e.jsx(i,{component:"span",variant:"subtitle1",fontWeight:400,noWrap:!0,children:d})]}),(s==null?void 0:s.simulated)&&e.jsx(B,{label:"Simulated",size:"small",variant:"outlined",color:"warning"}),(s==null?void 0:s.cached)&&e.jsx(B,{label:"Cached",size:"small",variant:"outlined"}),e.jsx(Q,{title:"Force-refresh predictions",children:e.jsx("span",{children:e.jsx(ve,{size:"small",onClick:C,disabled:b,children:e.jsx(lr,{fontSize:"small"})})})})]}),r===null&&e.jsxs(o,{sx:{display:"flex",gap:1,mb:2},children:[e.jsx(se,{size:"small",placeholder:"Search another player…",value:f,onChange:h=>u(h.target.value),onKeyDown:h=>h.key==="Enter"&&p(),fullWidth:!0,InputProps:{startAdornment:e.jsx(le,{position:"start",children:e.jsx(fe,{fontSize:"small"})})}}),e.jsx(re,{variant:"outlined",size:"small",onClick:p,children:"Go"})]}),e.jsxs(ke,{size:"small",sx:{mb:2,minWidth:140},children:[e.jsx(Se,{children:"Prop"}),e.jsxs(Ie,{value:a,label:"Prop",onChange:k,children:[e.jsx(A,{value:"points",children:"Points"}),e.jsx(A,{value:"rebounds",children:"Rebounds"}),e.jsx(A,{value:"assists",children:"Assists"}),e.jsx(A,{value:"combined",children:"Combined"})]})]}),b&&e.jsxs(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4,gap:1},children:[e.jsx(Ce,{size:28}),e.jsx(i,{variant:"caption",color:"text.secondary",children:"Fetching game logs + running AI analysis…"})]}),y&&e.jsx(W,{severity:"error",sx:{mb:2},children:"Failed to load research. Try refreshing."}),s&&!b&&e.jsxs(te,{spacing:2,children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(dr,{prediction:s.prediction}),s.statContext&&e.jsxs(i,{variant:"body2",color:"text.secondary",children:["Line: ",e.jsx("strong",{children:s.statContext.propLine})]})]}),e.jsx(hr,{confidence:s.confidence}),s.statContext&&e.jsx(xr,{ctx:s.statContext,propType:s.propType}),e.jsx(O,{}),e.jsxs(o,{children:[e.jsx(i,{variant:"caption",color:"text.secondary",gutterBottom:!0,display:"block",children:"Reasoning"}),e.jsx(i,{variant:"body2",sx:{lineHeight:1.6},children:s.reasoning})]}),(((D=s.keyFactors)==null?void 0:D.length)??0)>0&&e.jsxs(o,{children:[e.jsx(i,{variant:"caption",color:"text.secondary",gutterBottom:!0,display:"block",children:"Key Factors"}),e.jsx(te,{spacing:.5,children:s.keyFactors.map((h,w)=>e.jsxs(i,{variant:"body2",sx:{display:"flex",alignItems:"flex-start",gap:.5},children:[e.jsx("span",{style:{color:"#888"},children:"•"})," ",h]},w))})]}),e.jsx(O,{}),e.jsxs(o,{sx:{display:"flex",gap:2},children:[e.jsxs(o,{flex:1,children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Sentiment"}),e.jsx(i,{variant:"body2",fontWeight:600,children:s.sentimentWeight})]}),e.jsxs(o,{flex:1,children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Stats"}),e.jsx(i,{variant:"body2",fontWeight:600,children:s.statWeight})]})]}),e.jsxs(i,{variant:"caption",color:"text.secondary",children:["Generated ",s.generatedAt?new Date(s.generatedAt).toLocaleString():"—"]})]})]})}):e.jsx(ie,{variant:"outlined",children:e.jsxs(oe,{children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(me,{fontSize:"small",color:"primary"}),e.jsx(i,{variant:"subtitle1",fontWeight:700,children:"Edge Signal"})]}),e.jsxs(o,{sx:{display:"flex",gap:1},children:[e.jsx(se,{size:"small",placeholder:"Search player name…",value:f,onChange:h=>u(h.target.value),onKeyDown:h=>h.key==="Enter"&&p(),fullWidth:!0,InputProps:{startAdornment:e.jsx(le,{position:"start",children:e.jsx(fe,{fontSize:"small"})})}}),e.jsx(re,{variant:"contained",size:"small",onClick:p,sx:{whiteSpace:"nowrap"},children:"Go"})]}),e.jsx(i,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Or select a player above to see edge signals"})]})})}const pr=[{label:"Points",key:"pts",higherIsBetter:!0},{label:"Rebounds",key:"reb",higherIsBetter:!0},{label:"Assists",key:"ast",higherIsBetter:!0},{label:"Steals",key:"stl",higherIsBetter:!0},{label:"Blocks",key:"blk",higherIsBetter:!0},{label:"Turnovers",key:"turnover",higherIsBetter:!1},{label:"Minutes",key:"min",format:r=>typeof r=="string"?r:Number(r).toFixed(1),higherIsBetter:!0},{label:"FG%",key:"fg_pct",format:r=>`${(r*100).toFixed(1)}%`,higherIsBetter:!0},{label:"3P%",key:"fg3_pct",format:r=>`${(r*100).toFixed(1)}%`,higherIsBetter:!0},{label:"FT%",key:"ft_pct",format:r=>`${(r*100).toFixed(1)}%`,higherIsBetter:!0},{label:"Off. Reb",key:"oreb",higherIsBetter:!0},{label:"Def. Reb",key:"dreb",higherIsBetter:!0},{label:"Personal Fouls",key:"pf",higherIsBetter:!1},{label:"Games Played",key:"games_played",higherIsBetter:!0}];function ye(r,t){const a=(r==null?void 0:r[t])??0;if(t==="min"&&typeof a=="string"){const[n,x]=a.split(":").map(Number);return n+(x||0)/60}return a}function je(r,t){return t?t(r):typeof r=="number"?r.toFixed(1):String(r)}const F=[{value:2025,label:"2025-26"},{value:2024,label:"2024-25"},{value:2023,label:"2023-24"},{value:2022,label:"2022-23"},{value:2021,label:"2021-22"}],kr=()=>{var w,Y,J,Z;const r=we(),[t,a]=_e(),[n,x]=g.useState(null),[c,f]=g.useState(null),[u,m]=g.useState(2025),[S,d]=g.useState(!1);g.useEffect(()=>{const l=t.get("p1"),I=t.get("p1n"),j=t.get("p1t"),P=t.get("p2"),L=t.get("p2n"),R=t.get("p2t"),_=t.get("s");if(l&&I&&x({id:parseInt(l),name:I,team:j||"",position:""}),P&&L&&f({id:parseInt(P),name:L,team:R||"",position:""}),_){const N=parseInt(_);F.some(E=>E.value===N)&&m(N)}},[]),g.useEffect(()=>{const l={s:u.toString()};n&&(l.p1=n.id.toString(),l.p1n=n.name,l.p1t=n.team),c&&(l.p2=c.id.toString(),l.p2n=c.name,l.p2t=c.team),a(l,{replace:!0})},[n,c,u,a]);const{data:s,isLoading:b,error:y}=Ke(((w=n==null?void 0:n.id)==null?void 0:w.toString())||"",((Y=c==null?void 0:c.id)==null?void 0:Y.toString())||"",u),C=n&&c&&(s==null?void 0:s.player1)&&(s==null?void 0:s.player2),p=((J=F.find(l=>l.value===u))==null?void 0:J.label)??"",k=s==null?void 0:s.effectiveSeason,D=k?((Z=F.find(l=>l.value===k))==null?void 0:Z.label)??`${k}-${k+1-2e3}`:null,h=()=>{navigator.clipboard.writeText(window.location.href),d(!0)};return e.jsxs(o,{sx:{p:3,maxWidth:900,mx:"auto"},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[e.jsx(i,{variant:"h4",fontWeight:700,children:"Player Comparison"}),e.jsx(Q,{title:"Copy shareable link",children:e.jsx(ve,{size:"small",onClick:h,children:e.jsx(Me,{fontSize:"small"})})})]}),e.jsxs(o,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Season averages for"}),e.jsxs(ke,{size:"small",children:[e.jsx(Se,{id:"season-label",children:"Season"}),e.jsx(Ie,{labelId:"season-label",value:u,label:"Season",onChange:l=>m(l.target.value),children:F.map(l=>e.jsx(A,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs(z,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(z,{item:!0,xs:12,md:6,children:e.jsx(ae,{label:"Player 1",value:n,onChange:x})}),e.jsx(z,{item:!0,xs:12,md:6,children:e.jsx(ae,{label:"Player 2",value:c,onChange:f})})]}),!n||!c?e.jsx(W,{severity:"info",children:"Select two players above to compare their stats."}):b?e.jsx(o,{sx:{display:"flex",justifyContent:"center",my:6},children:e.jsx(Ce,{})}):y?(()=>{var I,j;const l=q.isAxiosError(y)&&((j=(I=y.response)==null?void 0:I.data)==null?void 0:j.error)==="plan_required";return e.jsx(W,{severity:l?"warning":"error",children:l?"Season stats require a BallDontLie paid plan. Check that BALL_DONT_LIE_API_KEY is set correctly on the backend.":"Failed to load comparison data. Please try again."})})():C?e.jsxs(e.Fragment,{children:[k&&k!==u&&e.jsxs(W,{severity:"info",sx:{mb:2},children:["Not enough ",p," games yet to compute a reliable average — showing ",D,"."]}),e.jsxs(Ne,{elevation:2,children:[e.jsxs(o,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",p:2,bgcolor:"primary.main",color:"primary.contrastText",borderRadius:"4px 4px 0 0"},children:[e.jsx(i,{variant:"subtitle2",fontWeight:600,sx:{alignSelf:"center"},children:"Stat"}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.5},children:[e.jsx(ne,{name:n.name,photoUrl:n.photoUrl,size:56,sx:{border:"2px solid rgba(255,255,255,0.5)"}}),e.jsx(i,{variant:"subtitle2",fontWeight:600,textAlign:"center",children:n.name})]}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.5},children:[e.jsx(ne,{name:c.name,photoUrl:c.photoUrl,size:56,sx:{border:"2px solid rgba(255,255,255,0.5)",bgcolor:"secondary.main"}}),e.jsx(i,{variant:"subtitle2",fontWeight:600,textAlign:"center",children:c.name})]})]}),e.jsx(Ge,{children:e.jsx(He,{size:"small",children:e.jsx(Ve,{children:pr.map((l,I)=>{var E,ee;const j=ye(s.player1,l.key),P=ye(s.player2,l.key),L=l.higherIsBetter?j>P:j<P,R=l.higherIsBetter?P>j:P<j,_=((E=s.player1)==null?void 0:E[l.key])??0,N=((ee=s.player2)==null?void 0:ee[l.key])??0;return e.jsxs(Qe,{sx:{bgcolor:I%2===0?"background.default":"background.paper"},children:[e.jsx(U,{sx:{fontWeight:500,color:"text.secondary",width:"33%"},children:l.label}),e.jsx(U,{align:"center",sx:{width:"33%"},children:e.jsx(B,{label:je(_,l.format),size:"small",sx:{fontWeight:L?700:400,bgcolor:L?r.palette.success.light:R?r.palette.action.hover:"transparent",color:L?r.palette.success.dark:"text.primary",border:"none",minWidth:60}})}),e.jsx(U,{align:"center",sx:{width:"33%"},children:e.jsx(B,{label:je(N,l.format),size:"small",sx:{fontWeight:R?700:400,bgcolor:R?r.palette.success.light:L?r.palette.action.hover:"transparent",color:R?r.palette.success.dark:"text.primary",border:"none",minWidth:60}})})]},l.key)})})})}),e.jsx(O,{}),e.jsxs(o,{sx:{p:1.5,display:"flex",gap:2,alignItems:"center"},children:[e.jsx(o,{sx:{width:12,height:12,borderRadius:1,bgcolor:r.palette.success.light,flexShrink:0}}),e.jsx(i,{variant:"caption",color:"text.secondary",children:"Green highlight = better value for that stat"})]})]})]}):e.jsxs(W,{severity:"info",children:["No ",p," stats found for one or both players. Try selecting an older season from the dropdown above."," ","(If you're on the BallDontLie free plan, current-season data may not be available.)"]}),(n||c)&&e.jsxs(o,{sx:{mt:4},children:[e.jsx(i,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Edge Signal"}),e.jsxs(z,{container:!0,spacing:3,children:[e.jsx(z,{item:!0,xs:12,md:6,children:e.jsx(be,{playerName:(n==null?void 0:n.name)??null})}),e.jsx(z,{item:!0,xs:12,md:6,children:e.jsx(be,{playerName:(c==null?void 0:c.name)??null})})]})]}),e.jsx(Ee,{open:S,autoHideDuration:2e3,onClose:()=>d(!1),message:"Link copied to clipboard"})]})};export{kr as default};
//# sourceMappingURL=PlayerComparison-7TroVy68.js.map
