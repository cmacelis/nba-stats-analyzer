import{g as L,d as U,e as S,U as we,_ as p,a5 as Pe,r as h,m as O,G as $e,j as t,o as _,h as C,p as E,P as be,l as q,x as Q,F as Te,T as m,S as We,M as pe,q as De,t as Re,c as ve,X as Be,B as R,C as fe,A as ue,a as he,z as Me,w as J,I as Fe}from"./index-D9nbruLe.js";import{u as je,B as _e,d as ze,a as Ae,e as Ie,F as se,I as oe,S as le,M as ne,T as re,P as ke}from"./PlayerAvatar-CFLiqhfc.js";import{j as Ne,T as Le,a as Ue,c as Ce,d as $,b as Oe,k as Ee,D as xe}from"./useNbaData-1LxKfKvx.js";import{T as qe}from"./TableHead-_rOPO0we.js";import{T as ge,a as G}from"./ToggleButtonGroup-CD9sgTIf.js";import{I as te,T as He,a as Xe}from"./TrendingUp-BNkS_11L.js";import{C as ie}from"./Chip-DrcwLhod.js";function Ke(e){return L("PrivateSwitchBase",e)}U("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ye=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Ge=e=>{const{classes:a,checked:s,disabled:o,edge:r}=e,l={root:["root",s&&"checked",o&&"disabled",r&&`edge${C(r)}`],input:["input"]};return E(l,Ke,a)},Ve=S(we)(({ownerState:e})=>p({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Je=S("input",{shouldForwardProp:Pe})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Qe=h.forwardRef(function(a,s){const{autoFocus:o,checked:r,checkedIcon:l,className:c,defaultChecked:i,disabled:d,disableFocusRipple:b=!1,edge:x=!1,icon:u,id:y,inputProps:M,inputRef:w,name:F,onBlur:f,onChange:T,onFocus:j,readOnly:n,required:W=!1,tabIndex:P,type:B,value:g}=a,v=O(a,Ye),[z,Z]=$e({controlled:r,default:!!i,name:"SwitchBase",state:"checked"}),D=je(),H=I=>{j&&j(I),D&&D.onFocus&&D.onFocus(I)},X=I=>{f&&f(I),D&&D.onBlur&&D.onBlur(I)},ee=I=>{if(I.nativeEvent.defaultPrevented)return;const de=I.target.checked;Z(de),T&&T(I,de)};let N=d;D&&typeof N>"u"&&(N=D.disabled);const K=B==="checkbox"||B==="radio",Y=p({},a,{checked:z,disabled:N,disableFocusRipple:b,edge:x}),A=Ge(Y);return t.jsxs(Ve,p({component:"span",className:_(A.root,c),centerRipple:!0,focusRipple:!b,disabled:N,tabIndex:null,role:void 0,onFocus:H,onBlur:X,ownerState:Y,ref:s},v,{children:[t.jsx(Je,p({autoFocus:o,checked:r,defaultChecked:i,className:A.input,disabled:N,id:K?y:void 0,name:F,onChange:ee,readOnly:n,ref:w,required:W,ownerState:Y,tabIndex:P,type:B},B==="checkbox"&&g===void 0?{}:{value:g},M)),z?l:u]}))});function Ze(e){return L("MuiDialog",e)}const ae=U("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Se=h.createContext({}),et=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],tt=S(_e,{name:"MuiDialog",slot:"Backdrop",overrides:(e,a)=>a.backdrop})({zIndex:-1}),at=e=>{const{classes:a,scroll:s,maxWidth:o,fullWidth:r,fullScreen:l}=e,c={root:["root"],container:["container",`scroll${C(s)}`],paper:["paper",`paperScroll${C(s)}`,`paperWidth${C(String(o))}`,r&&"paperFullWidth",l&&"paperFullScreen"]};return E(c,Ze,a)},st=S(ze,{name:"MuiDialog",slot:"Root",overridesResolver:(e,a)=>a.root})({"@media print":{position:"absolute !important"}}),ot=S("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.container,a[`scroll${C(s.scroll)}`]]}})(({ownerState:e})=>p({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),lt=S(be,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.paper,a[`scrollPaper${C(s.scroll)}`],a[`paperWidth${C(String(s.maxWidth))}`],s.fullWidth&&a.paperFullWidth,s.fullScreen&&a.paperFullScreen]}})(({theme:e,ownerState:a})=>p({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},a.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},a.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!a.maxWidth&&{maxWidth:"calc(100% - 64px)"},a.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${ae.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},a.maxWidth&&a.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[a.maxWidth]}${e.breakpoints.unit}`,[`&.${ae.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[a.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},a.fullWidth&&{width:"calc(100% - 64px)"},a.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ae.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),nt=h.forwardRef(function(a,s){const o=q({props:a,name:"MuiDialog"}),r=Q(),l={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":i,BackdropComponent:d,BackdropProps:b,children:x,className:u,disableEscapeKeyDown:y=!1,fullScreen:M=!1,fullWidth:w=!1,maxWidth:F="sm",onBackdropClick:f,onClick:T,onClose:j,open:n,PaperComponent:W=be,PaperProps:P={},scroll:B="paper",TransitionComponent:g=Ae,transitionDuration:v=l,TransitionProps:z}=o,Z=O(o,et),D=p({},o,{disableEscapeKeyDown:y,fullScreen:M,fullWidth:w,maxWidth:F,scroll:B}),H=at(D),X=h.useRef(),ee=A=>{X.current=A.target===A.currentTarget},N=A=>{T&&T(A),X.current&&(X.current=null,f&&f(A),j&&j(A,"backdropClick"))},K=Te(i),Y=h.useMemo(()=>({titleId:K}),[K]);return t.jsx(st,p({className:_(H.root,u),closeAfterTransition:!0,components:{Backdrop:tt},componentsProps:{backdrop:p({transitionDuration:v,as:d},b)},disableEscapeKeyDown:y,onClose:j,open:n,ref:s,onClick:N,ownerState:D},Z,{children:t.jsx(g,p({appear:!0,in:n,timeout:v,role:"presentation"},z,{children:t.jsx(ot,{className:_(H.container),onMouseDown:ee,ownerState:D,children:t.jsx(lt,p({as:W,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":K},P,{className:_(H.paper,P.className),ownerState:D,children:t.jsx(Se.Provider,{value:Y,children:x})}))})}))}))});function rt(e){return L("MuiDialogActions",e)}U("MuiDialogActions",["root","spacing"]);const it=["className","disableSpacing"],ct=e=>{const{classes:a,disableSpacing:s}=e;return E({root:["root",!s&&"spacing"]},rt,a)},dt=S("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.root,!s.disableSpacing&&a.spacing]}})(({ownerState:e})=>p({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),pt=h.forwardRef(function(a,s){const o=q({props:a,name:"MuiDialogActions"}),{className:r,disableSpacing:l=!1}=o,c=O(o,it),i=p({},o,{disableSpacing:l}),d=ct(i);return t.jsx(dt,p({className:_(d.root,r),ownerState:i,ref:s},c))});function ut(e){return L("MuiDialogContent",e)}U("MuiDialogContent",["root","dividers"]);function ht(e){return L("MuiDialogTitle",e)}const xt=U("MuiDialogTitle",["root"]),gt=["className","dividers"],mt=e=>{const{classes:a,dividers:s}=e;return E({root:["root",s&&"dividers"]},ut,a)},bt=S("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.root,s.dividers&&a.dividers]}})(({theme:e,ownerState:a})=>p({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},a.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${xt.root} + &`]:{paddingTop:0}})),vt=h.forwardRef(function(a,s){const o=q({props:a,name:"MuiDialogContent"}),{className:r,dividers:l=!1}=o,c=O(o,gt),i=p({},o,{dividers:l}),d=mt(i);return t.jsx(bt,p({className:_(d.root,r),ownerState:i,ref:s},c))}),ft=["className","id"],jt=e=>{const{classes:a}=e;return E({root:["root"]},ht,a)},kt=S(m,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,a)=>a.root})({padding:"16px 24px",flex:"0 0 auto"}),Ct=h.forwardRef(function(a,s){const o=q({props:a,name:"MuiDialogTitle"}),{className:r,id:l}=o,c=O(o,ft),i=o,d=jt(i),{titleId:b=l}=h.useContext(Se);return t.jsx(kt,p({component:"h2",className:_(d.root,r),ownerState:i,ref:s,variant:"h6",id:l??b},c))});function St(e){return L("MuiFormControlLabel",e)}const V=U("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),yt=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],wt=e=>{const{classes:a,disabled:s,labelPlacement:o,error:r,required:l}=e,c={root:["root",s&&"disabled",`labelPlacement${C(o)}`,r&&"error",l&&"required"],label:["label",s&&"disabled"],asterisk:["asterisk",r&&"error"]};return E(c,St,a)},Pt=S("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[{[`& .${V.label}`]:a.label},a.root,a[`labelPlacement${C(s.labelPlacement)}`]]}})(({theme:e,ownerState:a})=>p({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${V.disabled}`]:{cursor:"default"}},a.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},a.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},a.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${V.label}`]:{[`&.${V.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),$t=S("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,a)=>a.asterisk})(({theme:e})=>({[`&.${V.error}`]:{color:(e.vars||e).palette.error.main}})),Tt=h.forwardRef(function(a,s){var o,r;const l=q({props:a,name:"MuiFormControlLabel"}),{className:c,componentsProps:i={},control:d,disabled:b,disableTypography:x,label:u,labelPlacement:y="end",required:M,slotProps:w={}}=l,F=O(l,yt),f=je(),T=(o=b??d.props.disabled)!=null?o:f==null?void 0:f.disabled,j=M??d.props.required,n={disabled:T,required:j};["checked","name","onChange","value","inputRef"].forEach(z=>{typeof d.props[z]>"u"&&typeof l[z]<"u"&&(n[z]=l[z])});const W=Ie({props:l,muiFormControl:f,states:["error"]}),P=p({},l,{disabled:T,labelPlacement:y,required:j,error:W.error}),B=wt(P),g=(r=w.typography)!=null?r:i.typography;let v=u;return v!=null&&v.type!==m&&!x&&(v=t.jsx(m,p({component:"span"},g,{className:_(B.label,g==null?void 0:g.className),children:v}))),t.jsxs(Pt,p({className:_(B.root,c),ownerState:P,ref:s},F,{children:[h.cloneElement(d,n),j?t.jsxs(We,{display:"block",children:[v,t.jsxs($t,{ownerState:P,"aria-hidden":!0,className:B.asterisk,children:[" ","*"]})]}):v]}))});function Wt(e){return L("MuiSwitch",e)}const k=U("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Dt=["className","color","edge","size","sx"],Rt=e=>{const{classes:a,edge:s,size:o,color:r,checked:l,disabled:c}=e,i={root:["root",s&&`edge${C(s)}`,`size${C(o)}`],switchBase:["switchBase",`color${C(r)}`,l&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=E(i,Wt,a);return p({},a,d)},Bt=S("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.root,s.edge&&a[`edge${C(s.edge)}`],a[`size${C(s.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${k.thumb}`]:{width:16,height:16},[`& .${k.switchBase}`]:{padding:4,[`&.${k.checked}`]:{transform:"translateX(16px)"}}}}]}),Mt=S(Qe,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.switchBase,{[`& .${k.input}`]:a.input},s.color!=="default"&&a[`color${C(s.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${k.checked}`]:{transform:"translateX(20px)"},[`&.${k.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${k.checked} + .${k.track}`]:{opacity:.5},[`&.${k.disabled} + .${k.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${k.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:pe(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,a])=>a.main&&a.light).map(([a])=>({props:{color:a},style:{[`&.${k.checked}`]:{color:(e.vars||e).palette[a].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:pe(e.palette[a].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${a}DisabledColor`]:`${e.palette.mode==="light"?De(e.palette[a].main,.62):Re(e.palette[a].main,.55)}`}},[`&.${k.checked} + .${k.track}`]:{backgroundColor:(e.vars||e).palette[a].main}}}))]})),Ft=S("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,a)=>a.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),_t=S("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,a)=>a.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),zt=h.forwardRef(function(a,s){const o=q({props:a,name:"MuiSwitch"}),{className:r,color:l="primary",edge:c=!1,size:i="medium",sx:d}=o,b=O(o,Dt),x=p({},o,{color:l,edge:c,size:i}),u=Rt(x),y=t.jsx(_t,{className:u.thumb,ownerState:x});return t.jsxs(Bt,{className:_(u.root,r),sx:d,ownerState:x,children:[t.jsx(Mt,p({type:"checkbox",icon:y,checkedIcon:y,ref:s,ownerState:x},b,{classes:p({},u,{root:u.switchBase})})),t.jsx(Ft,{className:u.track,ownerState:x})]})}),ce=ve(t.jsx("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline"),At=ve(t.jsx("path",{d:"M11 21h-1l1-7H7.5c-.88 0-.33-.75-.31-.78C8.48 10.94 10.42 7.54 13.01 3h1l-1 7h3.51c.4 0 .62.19.4.66C12.97 17.55 11 21 11 21"}),"BoltOutlined"),me=[{value:"pts",label:"PTS (Points)"},{value:"pra",label:"PRA (Pts + Reb + Ast)"}],It=[{value:2025,label:"2025-26"},{value:2024,label:"2024-25"},{value:2023,label:"2023-24"},{value:2022,label:"2022-23"}],Nt=[{value:"pts",label:"Points"},{value:"reb",label:"Rebounds"},{value:"ast",label:"Assists"},{value:"pra",label:"PRA"}];function ye(e){return e>0?`+${e.toFixed(1)}`:e.toFixed(1)}function Lt(e){const a=Math.abs(e);return a>=5?"high":a>=2?"medium":"low"}const Ut=({values:e,seasonAvg:a})=>{const s=Q(),o=24,r=6,l=3,c=e.length*(r+l)-l,i=Math.max(...e,a)*1.1||1;return t.jsx("svg",{width:c,height:o,style:{display:"block"},children:e.map((d,b)=>{const x=Math.max(2,Math.round(d/i*o)),u=d>=a?s.palette.success.main:s.palette.error.main;return t.jsx("rect",{x:b*(r+l),y:o-x,width:r,height:x,rx:1,fill:u,opacity:.85},b)})})},Ot=({entry:e,stat:a,season:s,minMinutes:o,onClose:r,onNavigate:l})=>{const c=Q(),i=Ee(),[d,b]=h.useState(a),[x,u]=h.useState(e.delta>0?"over":"under"),[y,M]=h.useState(Lt(e.delta)),[w,F]=h.useState(""),[f,T]=h.useState(""),[j,n]=h.useState(null),W=e.delta>0,P=w.trim()!==""&&!isNaN(parseFloat(w)),B=async()=>{const g=await i.mutateAsync({player_id:e.player_id,player_name:e.player_name,team:e.team,stat:d,season_used:s,season_avg:e.season_avg,l5_avg:e.recent_avg,delta:e.delta,min_minutes:o,direction:x,confidence_tier:y,...P&&{line:parseFloat(w)},...f.trim()&&{notes:f.trim()}}),v=P?"Bet":"Signal";g.configured===!1?n(`Tracked (${v}) — set up Vercel KV for cross-device sync.`):n(`Tracked (${v})`),setTimeout(r,1400)};return t.jsxs(t.Fragment,{children:[t.jsxs(nt,{open:!0,onClose:r,maxWidth:"xs",fullWidth:!0,children:[t.jsx(Ct,{sx:{pb:1},children:t.jsxs(R,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t.jsx(ke,{name:e.player_name,photoUrl:e.photo_url??void 0,size:40}),t.jsxs(R,{children:[t.jsx(m,{fontWeight:700,children:e.player_name}),t.jsx(m,{variant:"caption",color:"text.secondary",children:e.team})]})]})}),t.jsxs(vt,{sx:{pt:1},children:[t.jsxs(R,{sx:{display:"flex",gap:2,mb:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[t.jsxs(R,{sx:{textAlign:"center"},children:[t.jsx(m,{variant:"caption",color:"text.secondary",children:"Season avg"}),t.jsx(m,{fontWeight:600,children:e.season_avg.toFixed(1)})]}),t.jsx(xe,{orientation:"vertical",flexItem:!0}),t.jsxs(R,{sx:{textAlign:"center"},children:[t.jsx(m,{variant:"caption",color:"text.secondary",children:"L5 avg"}),t.jsx(m,{fontWeight:600,children:e.recent_avg.toFixed(1)})]}),t.jsx(xe,{orientation:"vertical",flexItem:!0}),t.jsxs(R,{sx:{textAlign:"center"},children:[t.jsx(m,{variant:"caption",color:"text.secondary",children:"Δ"}),t.jsx(m,{fontWeight:700,color:W?c.palette.success.main:c.palette.error.main,children:ye(e.delta)})]})]}),t.jsxs(se,{size:"small",fullWidth:!0,sx:{mb:2},children:[t.jsx(oe,{children:"Stat"}),t.jsx(le,{value:d,label:"Stat",onChange:g=>b(g.target.value),children:Nt.map(g=>t.jsx(ne,{value:g.value,children:g.label},g.value))})]}),t.jsx(m,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Direction"}),t.jsxs(ge,{exclusive:!0,value:x,onChange:(g,v)=>v&&u(v),size:"small",fullWidth:!0,sx:{mb:2},children:[t.jsx(G,{value:"over",sx:{fontWeight:700,color:x==="over"?"success.main":void 0},children:"Over ↑"}),t.jsx(G,{value:"under",sx:{fontWeight:700,color:x==="under"?"error.main":void 0},children:"Under ↓"})]}),t.jsx(m,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Confidence"}),t.jsxs(ge,{exclusive:!0,value:y,onChange:(g,v)=>v&&M(v),size:"small",fullWidth:!0,sx:{mb:2},children:[t.jsx(G,{value:"low",children:"Low"}),t.jsx(G,{value:"medium",children:"Medium"}),t.jsx(G,{value:"high",children:"High"})]}),t.jsx(re,{size:"small",label:"Sportsbook line (optional — makes this a Bet)",type:"number",value:w,onChange:g=>F(g.target.value),placeholder:e.season_avg.toFixed(1),InputProps:{startAdornment:t.jsx(te,{position:"start",children:"O/U"}),endAdornment:w.trim()?t.jsx(te,{position:"end",children:t.jsx(ie,{label:"Bet",size:"small",color:"secondary",variant:"outlined",sx:{fontSize:"0.7rem",height:20}})}):t.jsx(te,{position:"end",children:t.jsx(ie,{label:"Signal",size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20}})})},fullWidth:!0,sx:{mb:1.5}}),t.jsx(re,{size:"small",label:"Rationale / notes (optional)",value:f,onChange:g=>T(g.target.value),multiline:!0,minRows:2,inputProps:{maxLength:280},placeholder:"e.g. Hot streak, favourable matchup vs poor perimeter D",fullWidth:!0,helperText:f.length>0?`${f.length}/280`:void 0})]}),t.jsxs(pt,{sx:{px:3,pb:2,gap:1},children:[t.jsx(he,{variant:"outlined",size:"small",onClick:l,children:"Compare Players"}),t.jsxs(he,{variant:"contained",size:"small",onClick:B,disabled:i.isPending,startIcon:i.isPending?t.jsx(fe,{size:14}):t.jsx(ce,{}),children:["Track ",P?"Bet":"Signal"]})]})]}),t.jsx(Me,{open:!!j,autoHideDuration:2500,onClose:()=>n(null),message:j,anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})},Et=({rank:e,entry:a,stat:s,onCompare:o,onTrack:r})=>{const l=Q(),c=a.delta>0,i=s==="pra"?"PRA":"PTS";return t.jsxs(Ce,{hover:!0,onClick:o,sx:{cursor:"pointer"},children:[t.jsx($,{sx:{color:"text.disabled",fontWeight:600,width:36},children:e}),t.jsx($,{children:t.jsxs(R,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t.jsx(ke,{name:a.player_name,photoUrl:a.photo_url??void 0,size:36}),t.jsxs(R,{children:[t.jsx(m,{variant:"body2",fontWeight:600,sx:{lineHeight:1.2},children:a.player_name}),t.jsxs(m,{variant:"caption",color:"text.secondary",children:[a.team_abbrev," · ",a.games_played,"G"]})]})]})}),t.jsx($,{align:"center",sx:{color:"text.secondary"},children:t.jsx(J,{title:`Season avg ${i}`,children:t.jsx("span",{children:a.season_avg.toFixed(1)})})}),t.jsx($,{align:"center",sx:{fontWeight:600},children:t.jsx(J,{title:`Last 5 avg ${i}`,children:t.jsx("span",{children:a.recent_avg.toFixed(1)})})}),t.jsx($,{align:"center",children:t.jsx(ie,{size:"small",icon:c?t.jsx(He,{}):t.jsx(Xe,{}),label:ye(a.delta),sx:{fontWeight:700,bgcolor:c?l.palette.success.light:l.palette.error.light,color:c?l.palette.success.dark:l.palette.error.dark,border:"none"}})}),t.jsx($,{align:"center",sx:{minWidth:72},children:t.jsx(J,{title:`Last 5: ${a.last5.join(" → ")}`,children:t.jsx(R,{sx:{display:"flex",justifyContent:"center"},children:t.jsx(Ut,{values:a.last5,seasonAvg:a.season_avg})})})}),t.jsx($,{align:"center",sx:{width:44,pr:.5},children:t.jsx(J,{title:"Track this pick",children:t.jsx(Fe,{size:"small",color:"primary",onClick:r,sx:{"&:hover":{bgcolor:"primary.light",color:"primary.contrastText"}},children:t.jsx(ce,{fontSize:"small"})})})})]})},Jt=()=>{var j;const e=Be(),[a,s]=h.useState("pts"),[o,r]=h.useState(20),[l,c]=h.useState(2025),[i,d]=h.useState(!1),[b,x]=h.useState(null),{data:u,isLoading:y,error:M}=Ne(a,o,l),w=h.useMemo(()=>{const n=(u==null?void 0:u.data)??[];return i?n.filter(W=>W.delta>0):n},[u,i]),F=n=>{const W=new URLSearchParams({p1:String(n.player_id),p1n:n.player_name,p1t:n.team,s:String(l)});e(`/compare?${W.toString()}`)},f=a==="pra"?"PRA":"PTS",T=u!=null&&u.generated_at?new Date(u.generated_at).toLocaleTimeString():null;return t.jsxs(R,{sx:{p:3,maxWidth:980,mx:"auto"},children:[t.jsxs(R,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(At,{color:"primary"}),t.jsx(m,{variant:"h4",fontWeight:700,children:"Edge Feed"})]}),t.jsxs(m,{variant:"body2",color:"text.secondary",sx:{mb:3},children:["Players ranked by momentum discrepancy — season average vs last 5 games. Click a row to compare; click ",t.jsx(ce,{sx:{fontSize:14,verticalAlign:"middle"}})," to track a pick."]}),t.jsxs(R,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:3,alignItems:"center"},children:[t.jsxs(se,{size:"small",sx:{minWidth:200},children:[t.jsx(oe,{children:"Stat"}),t.jsx(le,{value:a,label:"Stat",onChange:n=>s(n.target.value),children:me.map(n=>t.jsx(ne,{value:n.value,children:n.label},n.value))})]}),t.jsxs(se,{size:"small",sx:{minWidth:130},children:[t.jsx(oe,{children:"Season"}),t.jsx(le,{value:l,label:"Season",onChange:n=>c(n.target.value),children:It.map(n=>t.jsx(ne,{value:n.value,children:n.label},n.value))})]}),t.jsx(re,{size:"small",label:"Min minutes",type:"number",value:o,onChange:n=>r(Math.max(0,parseInt(n.target.value)||0)),inputProps:{min:0,max:48,step:5},sx:{width:130}}),t.jsx(Tt,{control:t.jsx(zt,{checked:i,onChange:n=>d(n.target.checked),size:"small"}),label:t.jsxs(m,{variant:"body2",children:["Positive Δ only"," ",t.jsx(m,{component:"span",variant:"caption",color:"text.secondary",children:"(overs)"})]})}),T&&t.jsxs(m,{variant:"caption",color:"text.disabled",sx:{ml:"auto"},children:["Updated ",T]})]}),y?t.jsxs(R,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2,my:8},children:[t.jsx(fe,{size:28}),t.jsx(m,{color:"text.secondary",children:"Building edge feed…"})]}):M?t.jsx(ue,{severity:"error",children:"Failed to load edge feed. Please try again."}):w.length===0?t.jsx(ue,{severity:"info",children:"No players matched filters. Try lowering minimum minutes or disabling positive-only."}):t.jsx(Le,{children:t.jsxs(Ue,{size:"small",children:[t.jsx(qe,{children:t.jsxs(Ce,{children:[t.jsx($,{sx:{fontWeight:700,color:"text.secondary"},children:"#"}),t.jsx($,{sx:{fontWeight:700},children:"Player"}),t.jsxs($,{align:"center",sx:{fontWeight:700},children:["Season ",f]}),t.jsxs($,{align:"center",sx:{fontWeight:700},children:["L5 ",f]}),t.jsx($,{align:"center",sx:{fontWeight:700},children:"Δ"}),t.jsx($,{align:"center",sx:{fontWeight:700},children:"Trend"}),t.jsx($,{sx:{width:44}})]})}),t.jsx(Oe,{children:w.map((n,W)=>t.jsx(Et,{rank:W+1,entry:n,stat:a,onCompare:()=>F(n),onTrack:P=>{P.stopPropagation(),x(n)}},n.player_id))})]})}),t.jsxs(m,{variant:"caption",color:"text.disabled",sx:{mt:3,display:"block"},children:[(j=me.find(n=>n.value===a))==null?void 0:j.label," · min ",o," min/game · via BallDontLie · refreshes every 10 min"]}),b&&t.jsx(Ot,{entry:b,stat:a,season:l,minMinutes:o,onClose:()=>x(null),onNavigate:()=>{x(null),F(b)}})]})};export{Jt as default};
//# sourceMappingURL=EdgeDetector-CLHQkv8I.js.map
